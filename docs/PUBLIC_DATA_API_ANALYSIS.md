# ğŸ¢ ê³µê³µë°ì´í„°í¬í„¸ ë¶€ë™ì‚° API ë¶„ì„ ë° í†µí•© ê³„íš

## ğŸ“Š 1. í•µì‹¬ ê³µê³µë°ì´í„° API ëª©ë¡

### 1.1 êµ­í† êµí†µë¶€ ì‹¤ê±°ë˜ê°€ APIs

#### ğŸ  ì•„íŒŒíŠ¸ ë§¤ë§¤ ì‹¤ê±°ë˜ê°€
- **API ëª…**: êµ­í† êµí†µë¶€_ì•„íŒŒíŠ¸ë§¤ë§¤ ì‹¤ê±°ë˜ ìƒì„¸ ìë£Œ
- **ì—”ë“œí¬ì¸íŠ¸**: `http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcAptTradeDev`
- **ì£¼ìš” ë°ì´í„°**:
  - ê±°ë˜ê¸ˆì•¡, ê±°ë˜ì¼ì
  - ì „ìš©ë©´ì , ì¸µ ì •ë³´
  - ì•„íŒŒíŠ¸ëª…, ë²•ì •ë™
  - ê±´ì¶•ë…„ë„
- **í™œìš©ë„**: â­â­â­â­â­ (í•„ìˆ˜)

#### ğŸ  ì•„íŒŒíŠ¸ ì „ì›”ì„¸ ì‹¤ê±°ë˜ê°€
- **API ëª…**: êµ­í† êµí†µë¶€_ì•„íŒŒíŠ¸ ì „ì›”ì„¸ ìë£Œ
- **ì—”ë“œí¬ì¸íŠ¸**: `http://openapi.molit.go.kr:8081/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcAptRent`
- **ì£¼ìš” ë°ì´í„°**:
  - ë³´ì¦ê¸ˆì•¡, ì›”ì„¸ê¸ˆì•¡
  - ê³„ì•½ê¸°ê°„
  - ì „ìš©ë©´ì , ì¸µ ì •ë³´
- **í™œìš©ë„**: â­â­â­â­â­ (í•„ìˆ˜)

#### ğŸ¢ ì˜¤í”¼ìŠ¤í…” ë§¤ë§¤ ì‹¤ê±°ë˜ê°€
- **API ëª…**: êµ­í† êµí†µë¶€_ì˜¤í”¼ìŠ¤í…” ë§¤ë§¤ ì‹ ê³  ìë£Œ
- **ì—”ë“œí¬ì¸íŠ¸**: `http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcOffiTrade`
- **í™œìš©ë„**: â­â­â­â­

#### ğŸ¢ ì˜¤í”¼ìŠ¤í…” ì „ì›”ì„¸ ì‹¤ê±°ë˜ê°€
- **API ëª…**: êµ­í† êµí†µë¶€_ì˜¤í”¼ìŠ¤í…” ì „ì›”ì„¸ ì‹ ê³  ìë£Œ
- **ì—”ë“œí¬ì¸íŠ¸**: `http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcOffiRent`
- **í™œìš©ë„**: â­â­â­â­

### 1.2 í•œêµ­ë¶€ë™ì‚°ì› APIs

#### ğŸ“ˆ ì•„íŒŒíŠ¸ ì‹¤ê±°ë˜ê°€ê²©ì§€ìˆ˜
- **API ëª…**: í•œêµ­ë¶€ë™ì‚°ì›_ì•„íŒŒíŠ¸ ì‹¤ê±°ë˜ê°€ê²©ì§€ìˆ˜
- **ìš©ë„**: ì‹œì„¸ ë³€ë™ ì¶”ì´ ë¶„ì„
- **í™œìš©ë„**: â­â­â­

#### ğŸ“Š ì „ì›”ì„¸ ì „í™˜ìœ¨
- **API ëª…**: í•œêµ­ë¶€ë™ì‚°ì›_ì „ì›”ì„¸ì „í™˜ìœ¨
- **ìš©ë„**: ì „ì„¸/ì›”ì„¸ ê°€ê²© ë¹„êµ ë¶„ì„
- **í™œìš©ë„**: â­â­â­

### 1.3 ì¶”ê°€ ìœ ìš©í•œ APIs

#### ğŸ—ï¸ ê±´ì¶•ë¬¼ëŒ€ì¥ ì •ë³´
- **API ëª…**: êµ­í† êµí†µë¶€_ê±´ì¶•ë¬¼ëŒ€ì¥ì •ë³´ ì„œë¹„ìŠ¤
- **ìš©ë„**: ê±´ë¬¼ ìƒì„¸ ì •ë³´ (ì¤€ê³µì¼, êµ¬ì¡°, ìš©ë„ ë“±)
- **í™œìš©ë„**: â­â­â­â­

#### ğŸ—ºï¸ í† ì§€ ì •ë³´
- **API ëª…**: êµ­í† êµí†µë¶€_í† ì§€ì´ìš©ê³„íšì •ë³´ ì„œë¹„ìŠ¤
- **ìš©ë„**: ìš©ë„ì§€ì—­, ì§€ëª© ë“± í† ì§€ ì •ë³´
- **í™œìš©ë„**: â­â­â­

## ğŸ“‹ 2. API í†µí•© êµ¬í˜„ ê³„íš

### 2.1 ë‹¨ê³„ë³„ êµ¬í˜„ ë¡œë“œë§µ

#### Phase 1: í•µì‹¬ ì‹¤ê±°ë˜ê°€ API í†µí•© (1ì£¼ì°¨)
```javascript
// êµ¬í˜„ ì˜ˆì • API ëª©ë¡
const PHASE1_APIS = {
  apartmentSales: 'ì•„íŒŒíŠ¸ ë§¤ë§¤ ì‹¤ê±°ë˜ê°€',
  apartmentRent: 'ì•„íŒŒíŠ¸ ì „ì›”ì„¸ ì‹¤ê±°ë˜ê°€',
  officetelSales: 'ì˜¤í”¼ìŠ¤í…” ë§¤ë§¤ ì‹¤ê±°ë˜ê°€',
  officetelRent: 'ì˜¤í”¼ìŠ¤í…” ì „ì›”ì„¸ ì‹¤ê±°ë˜ê°€'
};
```

#### Phase 2: ë¶€ê°€ ì •ë³´ API í†µí•© (2ì£¼ì°¨)
```javascript
const PHASE2_APIS = {
  buildingInfo: 'ê±´ì¶•ë¬¼ëŒ€ì¥ ì •ë³´',
  priceIndex: 'ì‹¤ê±°ë˜ê°€ê²©ì§€ìˆ˜',
  landInfo: 'í† ì§€ì´ìš©ê³„íšì •ë³´'
};
```

#### Phase 3: ë°ì´í„° ë¶„ì„ ë° ì˜ˆì¸¡ (3ì£¼ì°¨)
- ì‹¤ê±°ë˜ê°€ íŠ¸ë Œë“œ ë¶„ì„
- ì‹œì„¸ ì˜ˆì¸¡ ëª¨ë¸
- íˆ¬ì ìˆ˜ìµë¥  ê³„ì‚°

### 2.2 ê¸°ìˆ  êµ¬í˜„ ë°©ì•ˆ

#### API í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡°
```python
# src/mcp/collectors/public_data_collector.py

class PublicDataCollector:
    """ê³µê³µë°ì´í„°í¬í„¸ API ìˆ˜ì§‘ê¸°"""
    
    def __init__(self, service_key: str):
        self.service_key = service_key
        self.base_urls = {
            'apt_trade': 'http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcAptTradeDev',
            'apt_rent': 'http://openapi.molit.go.kr:8081/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcAptRent',
            'officetel_trade': 'http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcOffiTrade',
            'officetel_rent': 'http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcOffiRent'
        }
    
    async def get_apartment_trades(self, lawd_cd: str, deal_ymd: str):
        """ì•„íŒŒíŠ¸ ë§¤ë§¤ ì‹¤ê±°ë˜ê°€ ì¡°íšŒ"""
        params = {
            'serviceKey': self.service_key,
            'LAWD_CD': lawd_cd,  # ì§€ì—­ì½”ë“œ (5ìë¦¬)
            'DEAL_YMD': deal_ymd  # ê±°ë˜ë…„ì›” (6ìë¦¬)
        }
        # API í˜¸ì¶œ ë° XML íŒŒì‹±
        
    async def get_apartment_rents(self, lawd_cd: str, deal_ymd: str):
        """ì•„íŒŒíŠ¸ ì „ì›”ì„¸ ì‹¤ê±°ë˜ê°€ ì¡°íšŒ"""
        # êµ¬í˜„
```

#### ë°ì´í„° ëª¨ë¸ ì„¤ê³„
```python
# src/models/public_data_models.py

from pydantic import BaseModel
from datetime import datetime
from typing import Optional

class ApartmentTrade(BaseModel):
    """ì•„íŒŒíŠ¸ ë§¤ë§¤ ì‹¤ê±°ë˜ê°€ ëª¨ë¸"""
    deal_amount: int  # ê±°ë˜ê¸ˆì•¡ (ë§Œì›)
    deal_year: int
    deal_month: int
    deal_day: int
    apartment_name: str
    exclusive_area: float  # ì „ìš©ë©´ì 
    floor: int
    build_year: int
    road_name: str
    legal_dong: str
    jibun: str
    regional_code: str
    
class ApartmentRent(BaseModel):
    """ì•„íŒŒíŠ¸ ì „ì›”ì„¸ ëª¨ë¸"""
    deposit_amount: int  # ë³´ì¦ê¸ˆ (ë§Œì›)
    monthly_rent: int  # ì›”ì„¸ (ë§Œì›)
    contract_year: int
    contract_month: int
    contract_term: str  # ê³„ì•½ê¸°ê°„
    apartment_name: str
    exclusive_area: float
    floor: int
```

### 2.3 ë°ì´í„° í†µí•© ì „ëµ

#### ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ì˜ í†µí•©
```javascript
// pages/api/public-data.js

export default async function handler(req, res) {
  const { address, type = 'trade' } = req.query;
  
  // ì£¼ì†Œë¥¼ ì§€ì—­ì½”ë“œë¡œ ë³€í™˜
  const lawdCode = await convertAddressToLawdCode(address);
  
  // ê³µê³µë°ì´í„° API í˜¸ì¶œ
  const publicData = await fetchPublicData(lawdCode, type);
  
  // ê¸°ì¡´ ë„¤ì´ë²„, ì§ë°©, ë‹¤ë°© ë°ì´í„°ì™€ ë³‘í•©
  const mergedData = mergeWithExistingData(publicData);
  
  return res.json({
    success: true,
    publicData,
    mergedData
  });
}
```

## ğŸ”‘ 3. API ì¸ì¦ ë° ì„¤ì •

### 3.1 ì„œë¹„ìŠ¤í‚¤ ë°œê¸‰ ì ˆì°¨
1. ê³µê³µë°ì´í„°í¬í„¸ íšŒì›ê°€ì… (https://www.data.go.kr)
2. ì›í•˜ëŠ” API í™œìš©ì‹ ì²­
3. ì„œë¹„ìŠ¤í‚¤ ë°œê¸‰ (ì¦‰ì‹œ ~ 24ì‹œê°„)
4. ê°œë°œ/ìš´ì˜ ë‹¨ê³„ë³„ ìš”ì²­ í•œë„ ì„¤ì •

### 3.2 í™˜ê²½ë³€ìˆ˜ ì„¤ì •
```env
# .env
PUBLIC_DATA_SERVICE_KEY=your_service_key_here
PUBLIC_DATA_ENCODING_KEY=your_encoding_key_here
PUBLIC_DATA_DECODING_KEY=your_decoding_key_here
```

## ğŸ“Š 4. ë°ì´í„° í™œìš© ë°©ì•ˆ

### 4.1 ì‹¤ì‹œê°„ ì‹œì„¸ ë¹„êµ
- í˜„ì¬ í˜¸ê°€ vs ì‹¤ê±°ë˜ê°€ ë¹„êµ
- ì ì • ê°€ê²© ì‚°ì •
- ê±°ë˜ í™œì„±ë„ ë¶„ì„

### 4.2 íˆ¬ì ë¶„ì„ ê¸°ëŠ¥
```python
class InvestmentAnalyzer:
    """íˆ¬ì ë¶„ì„ ë„êµ¬"""
    
    def calculate_rental_yield(self, purchase_price, monthly_rent):
        """ì„ëŒ€ ìˆ˜ìµë¥  ê³„ì‚°"""
        annual_rent = monthly_rent * 12
        return (annual_rent / purchase_price) * 100
    
    def analyze_price_trend(self, historical_trades):
        """ê°€ê²© ì¶”ì´ ë¶„ì„"""
        # 6ê°œì›”, 1ë…„, 3ë…„ ì¶”ì´
        
    def compare_with_average(self, current_price, area_average):
        """ì§€ì—­ í‰ê·  ëŒ€ë¹„ ë¶„ì„"""
        # í‰ê·  ëŒ€ë¹„ ë†’ìŒ/ë‚®ìŒ íŒë‹¨
```

### 4.3 ë¦¬í¬íŠ¸ ìƒì„±
- ì›”ë³„ ê±°ë˜ ë™í–¥ ë¦¬í¬íŠ¸
- ì§€ì—­ë³„ ì‹œì„¸ ë³€ë™ ë¦¬í¬íŠ¸
- íˆ¬ì ìˆ˜ìµë¥  ë¶„ì„ ë¦¬í¬íŠ¸

## ğŸš€ 5. êµ¬í˜„ ìš°ì„ ìˆœìœ„

### ì¦‰ì‹œ êµ¬í˜„ (Must Have)
1. âœ… ì•„íŒŒíŠ¸ ë§¤ë§¤ ì‹¤ê±°ë˜ê°€ API
2. âœ… ì•„íŒŒíŠ¸ ì „ì›”ì„¸ ì‹¤ê±°ë˜ê°€ API
3. âœ… ì§€ì—­ì½”ë“œ ë³€í™˜ ê¸°ëŠ¥
4. âœ… ì‹¤ê±°ë˜ê°€ í‘œì‹œ UI

### ë‹¨ê¸° êµ¬í˜„ (Should Have)
1. ì˜¤í”¼ìŠ¤í…” ì‹¤ê±°ë˜ê°€ API
2. ê±´ì¶•ë¬¼ëŒ€ì¥ ì •ë³´ ì—°ë™
3. ê°€ê²© ì¶”ì´ ì°¨íŠ¸
4. ì‹¤ê±°ë˜ê°€ vs í˜¸ê°€ ë¹„êµ

### ì¥ê¸° êµ¬í˜„ (Nice to Have)
1. AI ê¸°ë°˜ ê°€ê²© ì˜ˆì¸¡
2. íˆ¬ì ìˆ˜ìµë¥  ê³„ì‚°ê¸°
3. ë§ì¶¤í˜• ë§¤ë¬¼ ì¶”ì²œ
4. ì‹¤ê±°ë˜ê°€ ì•Œë¦¼ ì„œë¹„ìŠ¤

## ğŸ“ˆ 6. ì˜ˆìƒ íš¨ê³¼

### ì‚¬ìš©ì ê°€ì¹˜
- **ì •í™•í•œ ì‹œì„¸ ì •ë³´**: ì‹¤ì œ ê±°ë˜ëœ ê°€ê²© í™•ì¸
- **íˆ¬ëª…í•œ ê±°ë˜**: ì ì • ê°€ê²© íŒë‹¨ ê·¼ê±°
- **íˆ¬ì ì˜ì‚¬ê²°ì •**: ë°ì´í„° ê¸°ë°˜ ë¶„ì„

### ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜
- **ì°¨ë³„í™”**: ê³µê³µë°ì´í„° ê¸°ë°˜ ì‹ ë¢°ë„
- **ìˆ˜ìµ ëª¨ë¸**: í”„ë¦¬ë¯¸ì—„ ë¶„ì„ ì„œë¹„ìŠ¤
- **í™•ì¥ì„±**: ë‹¤ì–‘í•œ ë¶€ê°€ ì„œë¹„ìŠ¤ ê°€ëŠ¥

## ğŸ”§ 7. ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### API ì œí•œì‚¬í•­
- ì¼ì¼ ìš”ì²­ í•œë„: ê°œë°œ(1ë§Œê±´), ìš´ì˜(ë¬´ì œí•œ ì‹ ì²­ ê°€ëŠ¥)
- ì‘ë‹µ í˜•ì‹: XML (JSON ë³€í™˜ í•„ìš”)
- ì§€ì—­ì½”ë“œ: ë²•ì •ë™ ì½”ë“œ 5ìë¦¬ í•„ìš”

### ì„±ëŠ¥ ìµœì í™”
```python
# ìºì‹± ì „ëµ
class PublicDataCache:
    def __init__(self):
        self.redis = Redis()
        self.cache_ttl = 3600  # 1ì‹œê°„
    
    async def get_or_fetch(self, key, fetcher):
        cached = await self.redis.get(key)
        if cached:
            return json.loads(cached)
        
        data = await fetcher()
        await self.redis.setex(key, self.cache_ttl, json.dumps(data))
        return data
```

### ì—ëŸ¬ ì²˜ë¦¬
- API ì‘ë‹µ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„
- ì„œë¹„ìŠ¤í‚¤ ë§Œë£Œ ì²´í¬
- XML íŒŒì‹± ì—ëŸ¬ ì²˜ë¦¬

## ğŸ“… 8. êµ¬í˜„ ì¼ì •

### Week 1
- [ ] ê³µê³µë°ì´í„°í¬í„¸ API í‚¤ ë°œê¸‰
- [ ] ì•„íŒŒíŠ¸ ë§¤ë§¤ ì‹¤ê±°ë˜ê°€ API ì—°ë™
- [ ] ì§€ì—­ì½”ë“œ ë³€í™˜ ëª¨ë“ˆ ê°œë°œ
- [ ] ê¸°ë³¸ UI í†µí•©

### Week 2
- [ ] ì „ì›”ì„¸ ì‹¤ê±°ë˜ê°€ API ì—°ë™
- [ ] ì˜¤í”¼ìŠ¤í…” ë°ì´í„° í†µí•©
- [ ] ìºì‹± ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ì‹¤ê±°ë˜ê°€ ë¹„êµ UI

### Week 3
- [ ] ê±´ì¶•ë¬¼ëŒ€ì¥ ì •ë³´ ì—°ë™
- [ ] ê°€ê²© ì¶”ì´ ë¶„ì„ ê¸°ëŠ¥
- [ ] ë¦¬í¬íŠ¸ ìƒì„± ê¸°ëŠ¥
- [ ] ì„±ëŠ¥ ìµœì í™”

## ğŸ¯ 9. ì„±ê³µ ì§€í‘œ

### ê¸°ìˆ  ì§€í‘œ
- API ì‘ë‹µ ì†ë„ < 2ì´ˆ
- ìºì‹œ ì ì¤‘ë¥  > 80%
- ì—ëŸ¬ìœ¨ < 1%

### ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ
- ì‹¤ê±°ë˜ê°€ ì¡°íšŒ ìˆ˜ ì¦ê°€
- ì‚¬ìš©ì ì²´ë¥˜ ì‹œê°„ ì¦ê°€
- ë§¤ë¬¼ ë¬¸ì˜ ì „í™˜ìœ¨ í–¥ìƒ

---

**ì‘ì„±ì¼**: 2025-01-17
**ì‘ì„±ì**: Claude AI Assistant
**ë²„ì „**: 1.0